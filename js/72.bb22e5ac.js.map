{"version":3,"file":"js/72.bb22e5ac.js","mappings":"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","sources":["webpack://carwash-adminpanel/./src/views/wash/pages/ManageWash.vue","webpack://carwash-adminpanel/src/views/wash/pages/ManageWash.vue","webpack://carwash-adminpanel/./src/views/wash/pages/ManageWash.vue?9dde","webpack://carwash-adminpanel/./src/views/wash/pages/ManageWash.vue?ea57"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"id\":\"wash\",\"fluid\":\"\",\"tag\":\"section\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('router-link',{staticClass:\"no-decoration\",attrs:{\"to\":{ path: '/pages/customer' }}},[_c('base-material-stats-card',{attrs:{\"color\":\"primary\",\"icon\":\"mdi-account\",\"title\":\"Total Customers\",\"value\":_vm.dashboard.customerCount,\"sub-icon\":\"mdi-account\",\"sub-text\":\"Total registered Customer\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('router-link',{staticClass:\"no-decoration\",attrs:{\"to\":{ path: '/pages/customer' }}},[_c('base-material-stats-card',{attrs:{\"color\":\"primary\",\"icon\":\"mdi-car\",\"title\":\"total Vehicles\",\"value\":_vm.dashboard.vehicleCount,\"sub-icon\":\"mdi-car\",\"sub-text\":\"Total registered Vehicles\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('router-link',{staticClass:\"no-decoration\",attrs:{\"to\":{ path: '/pages/staff' }}},[_c('base-material-stats-card',{attrs:{\"color\":\"primary\",\"icon\":\"mdi-account\",\"title\":\"Total Staff\",\"value\":_vm.dashboard.userCount-1,\"sub-icon\":\"mdi-account\",\"sub-text\":\"Total Staff\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('base-material-stats-card',{attrs:{\"color\":\"primary\",\"icon\":\"mdi-car-wash\",\"title\":\"Total Washes\",\"value\":_vm.dashboard.washHistoryCount,\"sub-icon\":\"mdi-car-wash\",\"sub-text\":\"Total washes\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-text-field',{attrs:{\"placeholder\":\"Search Vehicle...\",\"append-icon\":\"mdi-magnify\",\"clearable\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"solo\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"2\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":true,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"max-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-text-field',_vm._g({staticClass:\"mt-0\",attrs:{\"label\":\"Start Date\",\"readonly\":\"\",\"dense\":\"\",\"solo\":\"\",\"hide-details\":\"\",\"append-icon\":\"mdi-calendar\"},model:{value:(_vm.formattedStartDate),callback:function ($$v) {_vm.formattedStartDate=$$v},expression:\"formattedStartDate\"}},on))]}}]),model:{value:(_vm.menuStart),callback:function ($$v) {_vm.menuStart=$$v},expression:\"menuStart\"}},[_c('v-date-picker',{attrs:{\"scrollable\":\"\"},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"2\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":true,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"max-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-text-field',_vm._g({attrs:{\"solo\":\"\",\"dense\":\"\",\"label\":\"End Date\",\"readonly\":\"\",\"hide-details\":\"\",\"append-icon\":\"mdi-calendar\"},model:{value:(_vm.formattedEndDate),callback:function ($$v) {_vm.formattedEndDate=$$v},expression:\"formattedEndDate\"}},on))]}}]),model:{value:(_vm.menuEnd),callback:function ($$v) {_vm.menuEnd=$$v},expression:\"menuEnd\"}},[_c('v-date-picker',{attrs:{\"scrollable\":\"\"},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)],1),_c('v-col',{staticClass:\"d-flex justify-end\",attrs:{\"cols\":\"12\",\"md\":\"5\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.exportToPDF}},[_c('v-icon',{staticClass:\"mr-1\"},[_vm._v(\"mdi-file-download-outline\")]),_vm._v(\"Export to PDF\")],1),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.exportToExcel}},[_c('v-icon',{staticClass:\"mr-1\"},[_vm._v(\"mdi-file-download-outline\")]),_vm._v(\"Export to Excel\")],1)],1)],1),_c('base-material-card',{staticClass:\"px-5 py-3\",attrs:{\"icon\":\"mdi-clipboard-text\",\"title\":\"Manage Wash\"}},[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.filteredItems},scopedSlots:_vm._u([{key:`item._id`,fn:function({ item, index }){return [(item)?_c('span',[_vm._v(_vm._s(index + 1))]):_vm._e()]}},{key:`item.washDate`,fn:function({ item }){return [(item)?_c('span',[_vm._v(_vm._s(_vm.getDate(item.washDate)))]):_vm._e()]}}],null,true)})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container id=\"wash\" fluid tag=\"section\">\n    <v-row>\n      <v-col cols=\"12\" md=\"3\">\n        <router-link :to=\"{ path: '/pages/customer' }\" class=\"no-decoration\">\n        <base-material-stats-card\n          color=\"primary\"\n          icon=\"mdi-account\"\n          title=\"Total Customers\"\n          :value=\"dashboard.customerCount\"\n          sub-icon=\"mdi-account\"\n          sub-text=\"Total registered Customer\"\n        />\n        </router-link>\n      </v-col>\n      <v-col cols=\"12\" md=\"3\">\n        <router-link :to=\"{ path: '/pages/customer' }\" class=\"no-decoration\">\n        <base-material-stats-card\n          color=\"primary\"\n          icon=\"mdi-car\"\n          title=\"total Vehicles\"\n          :value=\"dashboard.vehicleCount\"\n          sub-icon=\"mdi-car\"\n          sub-text=\"Total registered Vehicles\"\n        />\n      </router-link>\n      </v-col>\n      <v-col cols=\"12\" md=\"3\">\n        <router-link :to=\"{ path: '/pages/staff' }\" class=\"no-decoration\">\n        <base-material-stats-card\n          color=\"primary\"\n          icon=\"mdi-account\"\n          title=\"Total Staff\"\n          :value=\"dashboard.userCount-1\"\n          sub-icon=\"mdi-account\"\n          sub-text=\"Total Staff\"\n        />\n        </router-link>\n      </v-col>\n      <v-col cols=\"12\" md=\"3\">\n        <base-material-stats-card\n          color=\"primary\"\n          icon=\"mdi-car-wash\"\n          title=\"Total Washes\"\n          :value=\"dashboard.washHistoryCount\"\n          sub-icon=\"mdi-car-wash\"\n          sub-text=\"Total washes\"\n        />\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col cols=\"12\" md=\"3\">\n        <v-text-field\n          placeholder=\"Search Vehicle...\"\n          v-model=\"search\"\n          append-icon=\"mdi-magnify\"\n          clearable\n          hide-details\n          dense\n          solo\n        />\n      </v-col>\n      <v-col cols=\"12\" md=\"2\">\n        <v-menu\n          v-model=\"menuStart\"\n          :close-on-content-click=\"true\"\n          transition=\"scale-transition\"\n          offset-y\n          max-width=\"290px\"\n        >\n          <template v-slot:activator=\"{ on }\">\n            <v-text-field\n              v-model=\"formattedStartDate\"\n              label=\"Start Date\"\n              readonly\n              dense\n              solo\n              hide-details\n              v-on=\"on\"\n              class=\"mt-0\"\n              append-icon=\"mdi-calendar\"\n            ></v-text-field>\n          </template>\n          <v-date-picker v-model=\"startDate\" scrollable></v-date-picker>\n        </v-menu>\n      </v-col>\n      <v-col cols=\"12\" md=\"2\">\n        <!-- End Date Picker -->\n        <v-menu\n          v-model=\"menuEnd\"\n          :close-on-content-click=\"true\"\n          transition=\"scale-transition\"\n          offset-y\n          max-width=\"290px\"\n        >\n          <template v-slot:activator=\"{ on }\">\n            <v-text-field\n              v-model=\"formattedEndDate\"\n              solo\n              dense\n              label=\"End Date\"\n              readonly\n              hide-details\n              append-icon=\"mdi-calendar\"\n              v-on=\"on\"\n            ></v-text-field>\n          </template>\n          <v-date-picker v-model=\"endDate\" scrollable></v-date-picker>\n        </v-menu>\n      </v-col>\n      <v-col cols=\"12\" md=\"5\" class=\"d-flex justify-end\">\n        <v-btn small color=\"primary\" @click=\"exportToPDF\"><v-icon class=\"mr-1\">mdi-file-download-outline</v-icon>Export to PDF</v-btn>\n        <v-btn small color=\"primary\" @click=\"exportToExcel\"><v-icon class=\"mr-1\">mdi-file-download-outline</v-icon>Export to Excel</v-btn>\n      </v-col>\n    </v-row>\n    <base-material-card\n      icon=\"mdi-clipboard-text\"\n      title=\"Manage Wash\"\n      class=\"px-5 py-3\"\n    >\n      <v-data-table :headers=\"headers\" :items=\"filteredItems\">\n        <template v-slot:[`item._id`]=\"{ item, index }\">\n          <span v-if=\"item\">{{ index + 1 }}</span>\n        </template>\n        <template v-slot:[`item.washDate`]=\"{ item }\">\n          <span v-if=\"item\">{{ getDate(item.washDate) }}</span>\n        </template>\n      </v-data-table>\n    </base-material-card>\n  </v-container>\n</template>\n<script>\nimport axios from \"axios\";\nimport { jsPDF } from \"jspdf\";\nimport \"jspdf-autotable\";\nimport * as XLSX from \"xlsx\";\nimport moment from \"moment\";\nexport default {\n  name: \"WashDashboard\",\n\n  data() {\n    return {\n      headers: [\n        { text: \"ID\", value: \"_id\" },\n        { text: \"Vehicle\", value: \"vehicle.vehicleNumber\" },\n        { text: \"Customer Name\", value: \"vehicle.owner.name\" },\n        { text: \"Phone\", value: \"vehicle.owner.phone\" },\n        { text: \"Staff Name\", value: \"staff.name\" },\n        { text: \"Date\", value: \"washDate\" },\n        { text: \"Time\", value: \"formattedTime\" },\n      ],\n      washHistory: [],\n      search: \"\",\n      startDate: null,\n      endDate: null,\n      menuStart: false,\n      menuEnd: false,\n      dashboard:null\n    };\n  },\n  computed: {\n    filteredItems() {\n      // Filter based on search term\n      let filtered = this.washHistory;\n      if (this.search) {\n        const searchTerm = this.search.toLowerCase();\n        filtered = filtered.filter((item) => {\n          return Object.values(item).some((val) => {\n            if (typeof val === \"object\" && val !== null) {\n              return Object.values(val).some((innerVal) => {\n                if (typeof innerVal === \"string\") {\n                  return innerVal.toLowerCase().includes(searchTerm);\n                }\n                return false;\n              });\n            } else if (typeof val === \"string\") {\n              return val.toLowerCase().includes(searchTerm);\n            }\n            return false;\n          });\n        });\n      }\n\n      // Filter based on date range\n      if (this.startDate && this.endDate) {\n        const startDate = new Date(this.startDate);\n        const endDate = new Date(this.endDate);\n        filtered = filtered.filter((item) => {\n          const washDate = new Date(item.washDate);\n          return washDate >= startDate && washDate <= endDate;\n        });\n      }\n\n      return filtered;\n    },\n    formattedStartDate() {\n      return this.startDate?this.getDate(this.startDate):'';\n    },\n    formattedEndDate() {\n      return this.endDate?this.getDate(this.endDate):'';\n    }\n  },\n  methods: {\n    async totalWashes() {\n      try {\n        const response = await axios.post(\"/get-washes\", {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        });\n\n        if (!response.status) {\n          throw new Error(`Failed to fetch data: ${response.statusText}`);\n        }\n\n        this.washHistory = response.data.data;\n      } catch (error) {\n        console.error(\"Error fetching user data:\", error);\n      }\n    },\n    async dashboardData() {\n      try {\n        const response = await axios.post(\"/dashboard-data\", {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        });\n\n        if (!response.status) {\n          throw new Error(`Failed to fetch data: ${response.statusText}`);\n        }\n\n        this.dashboard = response.data.data;\n      } catch (error) {\n        console.error(\"Error fetching user data:\", error);\n      }\n    },\n\n    exportToPDF() {\n      const doc = new jsPDF();\n      const header = this.headers.map((column) => column.text);\n      const data = this.filteredItems.map((item, index) => {\n        const staffName = item.staff ? item.staff.name : \"\";\n        const owner = item.vehicle ? item.vehicle.owner.name : \"\";\n        const washDate = this.getDate(item.washDate);\n        return [\n          index + 1,\n          item.vehicle.vehicleNumber,\n          owner,\n          item.vehicle.owner.phone,\n          staffName, // Use conditional staffName variable\n          washDate,\n          item.formattedTime,\n        ];\n      });\n\n      doc.autoTable({\n        head: [header],\n        body: data,\n      });\n\n      doc.save(\"exported_file.pdf\");\n    },\n\n    exportToExcel() {\n      const header = this.headers.map((column) => column.text);\n      const data = this.filteredItems.map((item, index) => {\n        const staffName = item.staff ? item.staff.name : \"\";\n        const owner = item.vehicle ? item.vehicle.owner.name : \"\";\n        const washDate = this.getDate(item.washDate);\n        return [\n          index + 1,\n          item.vehicle.vehicleNumber,\n          owner,\n          item.vehicle.owner.phone,\n          staffName, // Use conditional staffName variable\n          washDate,\n          item.formattedTime,\n        ];\n      });\n\n      const ws = XLSX.utils.aoa_to_sheet([header, ...data]);\n      const wb = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(wb, ws, \"Sheet1\");\n      XLSX.writeFile(wb, \"exported_file.xlsx\");\n    },\n    getDate(val) {\n      return moment(val).format(\"Do MMM YYYY\");\n    },\n  },\n  mounted() {\n    this.totalWashes();\n    this.dashboardData()\n  },\n};\n</script>\n\n<style>\n.v-data-table > .v-data-table__wrapper > table > thead > tr > th,\n.v-data-table > .v-data-table__wrapper > table > tfoot > tr > th {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  font-size: 1rem;\n  heigh: 48px;\n  font-weight: 800;\n}\n.no-decoration {\n  text-decoration: none;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ManageWash.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ManageWash.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ManageWash.vue?vue&type=template&id=de48c6ec\"\nimport script from \"./ManageWash.vue?vue&type=script&lang=js\"\nexport * from \"./ManageWash.vue?vue&type=script&lang=js\"\nimport style0 from \"./ManageWash.vue?vue&type=style&index=0&id=de48c6ec&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["attrs","staticClass","_c","_vm","dashboard","value","search","callback","$$v","expression","scopedSlots","key","on","formattedStartDate","menuStart","model","formattedEndDate","menuEnd","exportToExcel","_v","fn","item","staticRenderFns","render","name","data","headers","text","washHistory","startDate","endDate","computed","filteredItems","filtered","searchTerm","toLowerCase","filter","Object","values","some","val","innerVal","includes","Date","washDate","getDate","methods","totalWashes","response","axios","post","status","Error","statusText","error","console","dashboardData","exportToPDF","doc","jsPDF","header","map","column","index","staffName","staff","owner","vehicle","vehicleNumber","phone","formattedTime","autoTable","head","body","save","ws","XLSX","aoa_to_sheet","wb","book_new","book_append_sheet","moment","format","mounted","component"],"sourceRoot":""}