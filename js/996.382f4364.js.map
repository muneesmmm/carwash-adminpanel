{"version":3,"file":"js/996.382f4364.js","mappings":"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","sources":["webpack://carwash-adminpanel/../src/components/VTabs/VTab.ts","webpack://carwash-adminpanel/./src/views/customer/pages/CustomerProfile.vue","webpack://carwash-adminpanel/src/views/customer/pages/CustomerProfile.vue","webpack://carwash-adminpanel/./src/views/customer/pages/CustomerProfile.vue?8f0c","webpack://carwash-adminpanel/./src/views/customer/pages/CustomerProfile.vue?9f86"],"sourcesContent":["// Mixins\nimport { factory as GroupableFactory } from '../../mixins/groupable'\nimport Routable from '../../mixins/routable'\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport { keyCodes } from './../../util/helpers'\nimport mixins from '../../util/mixins'\nimport { ExtractVue } from './../../util/mixins'\n\n// Types\nimport { VNode } from 'vue/types'\n\n// Components\nimport VTabsBar from '../VTabs/VTabsBar'\n\nconst baseMixins = mixins(\n  Routable,\n  // Must be after routable\n  // to overwrite activeClass\n  GroupableFactory('tabsBar'),\n  Themeable\n)\n\ntype VTabBarInstance = InstanceType<typeof VTabsBar>\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  $el: HTMLElement\n  tabsBar: VTabBarInstance\n}\n\nexport default baseMixins.extend<options>().extend(\n  /* @vue/component */\n).extend({\n  name: 'v-tab',\n\n  props: {\n    ripple: {\n      type: [Boolean, Object],\n      default: true,\n    },\n    tabValue: {\n      required: false,\n    },\n  },\n\n  data: () => ({\n    proxyClass: 'v-tab--active',\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-tab': true,\n        ...Routable.options.computed.classes.call(this),\n        'v-tab--disabled': this.disabled,\n        ...this.groupClasses,\n      }\n    },\n    value (): any {\n      if (this.tabValue != null) return this.tabValue\n\n      let to = this.to || this.href\n\n      if (to == null) return to\n\n      if (this.$router &&\n        this.to === Object(this.to)\n      ) {\n        const resolve = this.$router.resolve(\n          this.to,\n          this.$route,\n          this.append\n        )\n\n        to = resolve.href\n      }\n\n      return to.replace('#', '')\n    },\n  },\n\n  methods: {\n    click (e: KeyboardEvent | MouseEvent): void {\n      // Prevent keyboard actions\n      // from children elements\n      // within disabled tabs\n      if (this.disabled) {\n        e.preventDefault()\n        return\n      }\n\n      // If user provides an\n      // actual link, do not\n      // prevent default\n      if (this.href &&\n        this.href.indexOf('#') > -1\n      ) e.preventDefault()\n\n      if (e.detail) this.$el.blur()\n\n      this.$emit('click', e)\n\n      this.to || this.toggle()\n    },\n    toggle () {\n      // VItemGroup treats a change event as a click\n      if (!this.isActive || (!this.tabsBar.mandatory && !this.to)) {\n        this.$emit('change')\n      }\n    },\n  },\n\n  render (h): VNode {\n    const { tag, data } = this.generateRouteLink()\n\n    data.attrs = {\n      ...data.attrs,\n      'aria-selected': String(this.isActive),\n      role: 'tab',\n      tabindex: this.disabled ? -1 : 0,\n    }\n    data.on = {\n      ...data.on,\n      keydown: (e: KeyboardEvent) => {\n        if (e.keyCode === keyCodes.enter) this.click(e)\n\n        this.$emit('keydown', e)\n      },\n    }\n\n    return h(tag, data, this.$slots.default)\n  },\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"id\":\"customer-profile\",\"fluid\":\"\",\"tag\":\"section\"}},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('base-material-card',{scopedSlots:_vm._u([{key:\"heading\",fn:function(){return [_c('div',{staticClass:\"display-2 font-weight-light\"},[_vm._v(\"Profile\")])]},proxy:true}])},[_c('v-card-text',{staticClass:\"text-left\"},[_c('h6',{staticClass:\"display-2 font-weight-black mb-1 black--text\"},[_vm._v(\" \"+_vm._s(_vm.userData.name)+\" \")]),_c('h4',{staticClass:\"display-2 font-weight-light mb-3 black--text\"},[_vm._v(\" \"+_vm._s(_vm.userData.role)+\" \")]),_c('h6',{staticClass:\"display-1 mb-1 grey--text\"},[_vm._v(\" \"+_vm._s(_vm.userData.email)+\" \")]),_c('h6',{staticClass:\"display-1 mb-1 grey--text\"},[_vm._v(\" \"+_vm._s(_vm.userData.phone)+\" \")]),_c('div',{staticClass:\"text-center\"},[_c('v-divider',{staticClass:\"my-2\"}),_c('div',{staticClass:\"d-flex justify-space-between\"},[_c('span',{staticClass:\"font-weight-bold h3\"},[_vm._v(\"Vehicles\")]),_c('span',{staticClass:\"font-weight-bold h3\"},[_vm._v(\": \"+_vm._s(_vm.userData.vehicles?.length))])]),_c('v-divider',{staticClass:\"my-2\"}),_vm._l((_vm.userData.vehicles),function(item,i){return _c('v-card',{key:i,staticClass:\"px-3 py-3 d-flex justify-space-between font-weight-bold\",attrs:{\"light\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(item.vehicleNumber))]),_c('span',[_vm._v(_vm._s(item.type))])])})],2)])],1),_c('base-material-card',{scopedSlots:_vm._u([{key:\"heading\",fn:function(){return [_c('div',{staticClass:\"display-2 font-weight-light\"},[_vm._v(\"Packages\")])]},proxy:true}])},[_c('v-card-text',{staticClass:\"text-center\"},[_c('v-data-table',{attrs:{\"headers\":_vm.packageHeaders,\"items\":_vm.packages},scopedSlots:_vm._u([{key:`item.status`,fn:function({ item }){return [_vm._v(\" \"+_vm._s(_vm.packageStatus(item))+\" \")]}}],null,true)})],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('base-material-card',{scopedSlots:_vm._u([{key:\"heading\",fn:function(){return [_c('div',{staticClass:\"display-2 font-weight-light\"},[_vm._v(\"Wash History\")]),_c('div',{staticClass:\"subtitle-1 font-weight-light\"},[_vm._v(\" Total Completed Washes \")])]},proxy:true}])},[(_vm.userData)?_c('v-card',[_c('v-tabs',{attrs:{\"background-color\":\"primary\"},model:{value:(_vm.selectedVehicle),callback:function ($$v) {_vm.selectedVehicle=$$v},expression:\"selectedVehicle\"}},_vm._l((_vm.userData.vehicles),function(vehicle){return _c('v-tab',{key:vehicle._id,attrs:{\"value\":vehicle._id}},[_vm._v(\" \"+_vm._s(vehicle.vehicleNumber)+\" \")])}),1)],1):_vm._e(),_c('v-row',[_c('v-col',{staticClass:\"d-flex justify-end\",attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.exportToPDF}},[_c('v-icon',{staticClass:\"mr-1\"},[_vm._v(\"mdi-file-download-outline\")]),_vm._v(\"Export to PDF\")],1),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.exportToExcel}},[_c('v-icon',{staticClass:\"mr-1\"},[_vm._v(\"mdi-file-download-outline\")]),_vm._v(\"Export to Excel\")],1)],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":true,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"max-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-text-field',_vm._g({attrs:{\"label\":\"Start Date\",\"readonly\":\"\",\"solo\":\"\",\"dense\":\"\",\"append-icon\":\"mdi-calendar\"},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}},on))]}}]),model:{value:(_vm.menuStart),callback:function ($$v) {_vm.menuStart=$$v},expression:\"menuStart\"}},[_c('v-date-picker',{attrs:{\"scrollable\":\"\"},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":true,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"max-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-text-field',_vm._g({attrs:{\"solo\":\"\",\"label\":\"End Date\",\"readonly\":\"\",\"dense\":\"\",\"append-icon\":\"mdi-calendar\"},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}},on))]}}]),model:{value:(_vm.menuEnd),callback:function ($$v) {_vm.menuEnd=$$v},expression:\"menuEnd\"}},[_c('v-date-picker',{attrs:{\"scrollable\":\"\"},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)],1)],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.filteredItems},scopedSlots:_vm._u([{key:`item._id`,fn:function({ item, index }){return [(item)?_c('span',[_vm._v(_vm._s(index + 1))]):_vm._e()]}},{key:`item.vehicle`,fn:function({ item }){return [_vm._v(\" \"+_vm._s(item.vehicle?.vehicleNumber)+\" \")]}},{key:`item.type`,fn:function({ item }){return [_vm._v(\" \"+_vm._s(item.vehicle?.type)+\" \")]}},{key:`item.time`,fn:function({ item }){return [_vm._v(\" \"+_vm._s(_vm.getWashTime(item.washDate))+\" \")]}},{key:`item.date`,fn:function({ item }){return [_vm._v(\" \"+_vm._s(_vm.getDate(item.washDate))+\" \")]}},{key:`item.action`,fn:function({ item }){return [_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.viewDetails(item._id)}}},[_vm._v(\"view\")]),_c('v-btn',{attrs:{\"color\":\"red\"}},[_vm._v(\"Delete\")])]}}],null,true)})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container id=\"customer-profile\" fluid tag=\"section\">\n    <v-row justify=\"center\">\n      <v-col cols=\"12\" md=\"6\">\n        <base-material-card>\n          <template v-slot:heading>\n            <div class=\"display-2 font-weight-light\">Profile</div>\n          </template>\n          <v-card-text class=\"text-left\">\n            <h6 class=\"display-2 font-weight-black mb-1 black--text\">\n              {{ userData.name }}\n            </h6>\n\n            <h4 class=\"display-2 font-weight-light mb-3 black--text\">\n              {{ userData.role }}\n            </h4>\n            <h6 class=\"display-1 mb-1 grey--text\">\n              {{ userData.email }}\n            </h6>\n            <h6 class=\"display-1 mb-1 grey--text\">\n              {{ userData.phone }}\n            </h6>\n            <!-- <v-btn\n              color=\"success\"\n              rounded\n              small\n              outlined\n              class=\"mr-0 mt-3\"\n              @click=\"isUpdate = !isUpdate\"\n            >\n            <v-icon>mdi-square-edit-outline</v-icon>\n              Edit Profile\n            </v-btn> -->\n            <div class=\"text-center\">\n              <v-divider class=\"my-2\" />\n              <div class=\"d-flex justify-space-between\">\n                <span class=\"font-weight-bold h3\">Vehicles</span>\n                <span class=\"font-weight-bold h3\"\n                  >: {{ userData.vehicles?.length }}</span\n                >\n              </div>\n              <v-divider class=\"my-2\" />\n              <v-card\n                light\n                outlined\n                class=\"px-3 py-3 d-flex justify-space-between font-weight-bold\"\n                v-for=\"(item, i) in userData.vehicles\"\n                :key=\"i\"\n              >\n                <span>{{ item.vehicleNumber }}</span>\n                <span>{{ item.type }}</span>\n              </v-card>\n            </div>\n          </v-card-text>\n        </base-material-card>\n        <base-material-card>\n          <template v-slot:heading>\n            <div class=\"display-2 font-weight-light\">Packages</div>\n          </template>\n          <v-card-text class=\"text-center\">\n            <v-data-table :headers=\"packageHeaders\" :items=\"packages\">\n              <template v-slot:[`item.status`]=\"{ item }\">\n                {{ packageStatus(item) }}\n              </template>\n            </v-data-table>\n          </v-card-text>\n        </base-material-card>\n      </v-col>\n      <v-col cols=\"12\" md=\"6\">\n        <base-material-card>\n          <template v-slot:heading>\n            <div class=\"display-2 font-weight-light\">Wash History</div>\n\n            <div class=\"subtitle-1 font-weight-light\">\n              Total Completed Washes\n            </div>\n          </template>\n          <v-card v-if=\"userData\">\n            <!-- Container for tabs -->\n            <v-tabs v-model=\"selectedVehicle\" background-color=\"primary\">\n              <!-- Iterate over vehicle numbers to create tabs -->\n              <v-tab\n                v-for=\"vehicle in userData.vehicles\"\n                :key=\"vehicle._id\"\n                :value=\"vehicle._id\"\n              >\n                {{ vehicle.vehicleNumber }}\n              </v-tab>\n            </v-tabs>\n          </v-card>\n          <v-row>\n            <v-col cols=\"12\" md=\"12\" class=\"d-flex justify-end\">\n              <v-btn small color=\"primary\" @click=\"exportToPDF\"\n                ><v-icon class=\"mr-1\">mdi-file-download-outline</v-icon>Export\n                to PDF</v-btn\n              >\n              <v-btn small color=\"primary\" @click=\"exportToExcel\"\n                ><v-icon class=\"mr-1\">mdi-file-download-outline</v-icon>Export\n                to Excel</v-btn\n              >\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col cols=\"12\" md=\"6\">\n              <v-menu\n                v-model=\"menuStart\"\n                :close-on-content-click=\"true\"\n                transition=\"scale-transition\"\n                offset-y\n                max-width=\"290px\"\n              >\n                <template v-slot:activator=\"{ on }\">\n                  <v-text-field\n                    v-model=\"startDate\"\n                    label=\"Start Date\"\n                    readonly\n                    solo\n                    dense\n                    v-on=\"on\"\n                    append-icon=\"mdi-calendar\"\n                  ></v-text-field>\n                </template>\n                <v-date-picker v-model=\"startDate\" scrollable></v-date-picker>\n              </v-menu>\n            </v-col>\n            <v-col cols=\"12\" md=\"6\">\n              <v-menu\n                v-model=\"menuEnd\"\n                :close-on-content-click=\"true\"\n                transition=\"scale-transition\"\n                offset-y\n                max-width=\"290px\"\n              >\n                <template v-slot:activator=\"{ on }\">\n                  <v-text-field\n                    v-model=\"endDate\"\n                    solo\n                    label=\"End Date\"\n                    readonly\n                    dense\n                    append-icon=\"mdi-calendar\"\n                    v-on=\"on\"\n                  ></v-text-field>\n                </template>\n                <v-date-picker v-model=\"endDate\" scrollable></v-date-picker>\n              </v-menu>\n            </v-col>\n          </v-row>\n          <v-data-table :headers=\"headers\" :items=\"filteredItems\">\n            <template v-slot:[`item._id`]=\"{ item, index }\">\n              <span v-if=\"item\">{{ index + 1 }}</span>\n            </template>\n            <template v-slot:[`item.vehicle`]=\"{ item }\">\n              {{ item.vehicle?.vehicleNumber }}\n            </template>\n            <template v-slot:[`item.type`]=\"{ item }\">\n              {{ item.vehicle?.type }}\n            </template>\n            <template v-slot:[`item.time`]=\"{ item }\">\n              {{ getWashTime(item.washDate) }}\n            </template>\n            <template v-slot:[`item.date`]=\"{ item }\">\n              {{ getDate(item.washDate) }}\n            </template>\n            <template v-slot:[`item.action`]=\"{ item }\">\n              <v-btn color=\"success\" @click=\"viewDetails(item._id)\">view</v-btn>\n              <v-btn color=\"red\">Delete</v-btn>\n            </template>\n          </v-data-table>\n        </base-material-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport moment from \"moment\";\nimport axios from \"axios\";\n// import ViewCarwashes from '../components/ViewCarwashes.vue';\nimport { jsPDF } from \"jspdf\";\nimport \"jspdf-autotable\";\nimport * as XLSX from \"xlsx\";\nexport default {\n  // components: { ViewCarwashes },\n  data() {\n    return {\n      packageHeaders: [\n        // { text: \"ID\", value: \"_id\" },\n        { text: \"Name\", value: \"plan.name\" },\n        { text: \"Duration\", value: \"plan.duration\" },\n        { text: \"Remaining Wash\", value: \"remainingWashes\" },\n        { text: \"Remaining Interior\", value: \"remainingInteriors\" },\n        { text: \"Status\", value: \"status\" },\n      ],\n      headers: [\n        { text: \"ID\", value: \"_id\" },\n        { text: \"Vehicle\", value: \"vehicle\" },\n        { text: \"Car  Type\", value: \"type\" },\n        { text: \"Wash Date\", value: \"date\" },\n        { text: \"Wash Time\", value: \"time\" },\n      ],\n      userData: [],\n      todayWashes: [],\n      washHistory: [], // Initialize userData as an empty array\n      isUpdate: false,\n      newPassword: \"\",\n      search: \"\",\n      startDate: null,\n      endDate: null,\n      menuStart: false,\n      menuEnd: false,\n      selectedVehicle: null,\n      packages: [],\n    };\n  },\n  created() {\n    // Call the function to fetch user data when the component is created\n    this.fetchUserData();\n    this.fetchPackageData();\n  },\n  computed: {\n    filteredItems() {\n      // Filter based on search term\n      let filtered = this.washHistory;\n      // Filter based on date range\n      if (this.startDate && this.endDate) {\n        const startDate = new Date(this.startDate);\n        const endDate = new Date(this.endDate);\n\n        filtered = filtered.filter((item) => {\n          const washDate = new Date(item.washDate);\n          return washDate >= startDate && washDate <= endDate;\n        });\n      }\n      return filtered;\n    },\n  },\n  watch: {\n    selectedVehicle: {\n      handler() {\n        this.fetchTotalData(this.selectedVehicle);\n      },\n    },\n  },\n  methods: {\n    async fetchUserData() {\n      try {\n        const id = this.$route.params.id;\n        const response = await axios.post(`/customer/${id}`, {\n          id,\n        });\n\n        if (!response.status) {\n          throw new Error(\"Failed to fetch user data\");\n        }\n\n        // Set userData to the received data\n        this.userData = response.data.customer;\n      } catch (error) {\n        console.error(\"Error fetching user data:\", error);\n      }\n    },\n    async fetchPackageData() {\n      try {\n        const id = this.$route.params.id;\n        const response = await axios.post(\n          `/get-customer-packages/${id}`, // No request body needed\n          {\n            headers: {\n              \"Content-Type\": \"application/json\", // Specify content type\n            },\n          }\n        );\n\n        if (!response) {\n          throw new Error(\"Failed to fetch user data\");\n        }\n\n        // Set todayWashes to the received data\n        this.packages = response.data.data;\n      } catch (error) {\n        console.error(\"Error fetching user data:\", error);\n      }\n    },\n    async fetchTotalData(val) {\n      try {\n        const response = await axios.post(\n          `/get-vehicle-washes/${this.userData.vehicles[val]._id}`, // No request body needed\n          {\n            headers: {\n              \"Content-Type\": \"application/json\", // Specify content type\n            },\n          }\n        );\n\n        if (!response.status) {\n          throw new Error(\"Failed to fetch user data\");\n        }\n\n        // Set todayWashes to the received data\n        this.washHistory = response.data.data;\n        return this.washHistory;\n      } catch (error) {\n        console.error(\"Error fetching user data:\", error);\n      }\n    },\n    getWashTime(item) {\n      return moment(item).format(\"h:mm A\");\n    },\n    getDate(val) {\n      return moment(val).format(\"Do MMM YYYY\");\n    },\n    exportToPDF() {\n      const doc = new jsPDF();\n      const header = this.headers.map((column) => column.text);\n      const data = this.filteredItems.map((item, index) => {\n        const washDate = this.getDate(item.washDate);\n        const washTime = this.getWashTime(item.washDate);\n        return [\n          index + 1,\n          item.vehicle.vehicleNumber,\n          item.vehicle.type,\n          washDate,\n          washTime,\n        ];\n      });\n      doc.setFontSize(16); // Adjust font size if needed\n      doc.text(\n        \"Car Wash Details of \" + this.userData.name + this.getDate(new Date()),\n        10,\n        10\n      );\n      doc.autoTable({\n        head: [header],\n        body: data,\n      });\n\n      doc.save(this.userData.name + \"_\" + this.getDate(new Date()) + \".pdf\");\n    },\n\n    exportToExcel() {\n      const header = this.headers.map((column) => column.text);\n      const data = this.filteredItems.map((item, index) => {\n        const washDate = this.getDate(item.washDate);\n        const washTime = this.getWashTime(item.washDate);\n        return [\n          index + 1,\n          item.vehicle.vehicleNumber,\n          item.vehicle.type,\n          washDate,\n          washTime,\n        ];\n      });\n\n      const ws = XLSX.utils.aoa_to_sheet([header, ...data]);\n      const wb = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(wb, ws, \"Sheet1\");\n      XLSX.writeFile(\n        wb,\n        this.userData.name + \"_\" + this.getDate(new Date()) + \".xlsx\"\n      );\n    },\n    packageStatus(item) {\n      const currentDate = new Date();\n      const endDate = new Date(item.endDate);\n      if (\n        currentDate > endDate ||\n        item.remainingWashes === 0 ||\n        item.remainingInteriors === 0\n      ) {\n        return \"Expired\";\n      } else {\n        return \"Active\";\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomerProfile.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomerProfile.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CustomerProfile.vue?vue&type=template&id=ad514b14\"\nimport script from \"./CustomerProfile.vue?vue&type=script&lang=js\"\nexport * from \"./CustomerProfile.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["baseMixins","mixins","Routable","GroupableFactory","Themeable","extend","name","props","ripple","type","Boolean","Object","default","tabValue","required","data","proxyClass","computed","classes","options","call","this","disabled","groupClasses","value","to","href","$router","resolve","$route","append","replace","methods","click","e","preventDefault","indexOf","detail","$el","blur","$emit","toggle","isActive","tabsBar","mandatory","render","h","tag","generateRouteLink","attrs","String","role","tabindex","on","keydown","keyCode","keyCodes","enter","$slots","scopedSlots","key","fn","proxy","_c","staticClass","_vm","_s","_v","userData","packageHeaders","packages","item","model","callback","selectedVehicle","expression","vehicle","_id","exportToPDF","menuStart","menuEnd","index","text","headers","todayWashes","washHistory","isUpdate","newPassword","search","startDate","endDate","created","fetchUserData","fetchPackageData","filteredItems","filtered","Date","filter","washDate","watch","handler","fetchTotalData","id","params","response","axios","post","status","Error","customer","error","console","val","vehicles","getWashTime","moment","format","getDate","doc","jsPDF","header","map","column","washTime","vehicleNumber","setFontSize","autoTable","head","body","save","exportToExcel","ws","XLSX","aoa_to_sheet","wb","book_new","book_append_sheet","packageStatus","currentDate","remainingWashes","remainingInteriors","component","staticRenderFns"],"sourceRoot":""}